<ng-container *ngrxLet="vm$ as vm">
  <a [routerLink]="['/']" routerLinkActive="active">Home</a>
  <div class="login-app">
    <form
      [formGroup]="loginForm"
      class="login-form"
      *ngIf="!vm.loginState?.isLoggedIn"
      (ngSubmit)="login()"
    >
      <label>
        Username:
        <input type="text" name="username" formControlName="username" />
      </label>
      <label>
        Password:
        <input type="password" name="password" formControlName="password" />
      </label>
      <p *ngIf="vm.error">{{ vm.error }}</p>
      <button type="submit">Login</button>
    </form>
    <div *ngIf="vm.isLoading">
      <p>logging in...</p>
    </div>
    <div *ngIf="vm.loginState?.isLoggedIn">
      <p>User is logged in - {{ vm.loginState?.jwt }}. Navigating to home page</p>
    </div>
  </div>
</ng-container>
